# L2
データリンク層のこと。同じスイッチやWi-Fiにつながっている端末（同じサブネット内）へデータを届ける。L2のパケット(フレーム)には送信元MACアドレスと宛先MACアドレスがある。

## ARP
知っているIPから知らないMACアドレスを対応付けるプロトコル。ARP Requestで任意のIPに紐づくMACアドレスを要求し、ARP Replyで応答する。

## ARPテーブル
IPとMACアドレスを紐づけているテーブル。これがないとブロードキャストでスイッチに聞く必要がある。スイッチは繋がっているすべてのMACアドレスにパケット(フレーム)を転送し、一致した宛先がARP Replyで応答する。
```bash
# Windows
arp -a # arpテーブル表示
arp -d * # arpテーブル削除
# Linux
ip neigh show # arpテーブル表示
ip -s -s neigh flush all # arpテーブル削除
```

## MACアドレス
ネットワークカード(NIC)製造時に書き込まれる48bitの識別番号。同じネットワーク内で特定の機器を探すために使われる。

## tcpdump
```bash
tcpdump -i <インターネットインターフェース> # 指定したインターネットインターフェースに対するパケットをキャプチャする。
tcpdump -i <インターネットインターフェース> arp or icmp # 指定したインターネットインターフェースに対するarpまたはicmpのパケットのみをキャプチャする。
-e # L2情報を表示する(MACアドレス)
-n # IPアドレスやポートを名前解決せず、数字のまま表示する。
```

# L3
ネットワーク層のこと。L2(データリンク層)とは異なり、IPアドレスを用いて世界中と通信が可能。

## プライベートIP
家庭や、組織内などで自由に使えるIPアドレス
```bash
10.0.0.0 ～ 10.255.255.255
172.16.0.0 ～ 172.31.255.255
192.168.0.0 ～ 192.168.255.255
```

## デフォルトゲートウェイ
自分のネットワークの外へ行くためのルーターのIPアドレス。インターネットにつなぐ際はWi-Fiなどを介すが、そのこと。

## NATとは
プライベートIPとグローバルIPを1:1で変換する技術。

## NAPTとは
1つのグローバルIPを、ポート番号を使って複数のPCで共有する技術。ポートで識別することによって１つのグローバルIPを複数の端末で使用可能。
